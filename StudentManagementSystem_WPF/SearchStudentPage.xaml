<Page x:Class="StudentManagementSystem_WPF.SearchStudentPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="clr-namespace:StudentManagementSystem_WPF"
      Title="Search Student">

    <!-- Page Resources -->
    <Page.Resources>
        <local:BoolToVisibilityConverter x:Key="BoolToVisibilityConverter"/>
    </Page.Resources>

    <Grid Background="#F9F9F9" Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <!-- Title -->
            <RowDefinition Height="Auto"/>
            <!-- Search Field -->
            <RowDefinition Height="*"/>
            <!-- Results -->
        </Grid.RowDefinitions>

        <!-- Page Title -->
        <TextBlock Grid.Row="0"
                   Text="Search Student"
                   FontSize="28"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Margin="0,20,0,25"/>

        <!-- Search Field -->
        <StackPanel Grid.Row="1" HorizontalAlignment="Center" Margin="0,0,0,20">
            <Grid Width="400" Height="35">
                <!-- Actual TextBox -->
                <TextBox x:Name="SearchBox" FontSize="14" Padding="5"
                         VerticalContentAlignment="Center"
                         TextChanged="SearchBox_TextChanged"/>
                <!-- Placeholder Text -->
                <TextBlock Text="Enter Student ID or Full Name"
                           Foreground="Gray"
                           Margin="5,0,0,0"
                           VerticalAlignment="Center"
                           IsHitTestVisible="False"
                           FontStyle="Italic"
                           Visibility="{Binding Text.Length, ElementName=SearchBox, Converter={StaticResource BoolToVisibilityConverter}}"/>
            </Grid>

            <!-- Search Button -->
            <Button Content="Search"
                    Width="100"
                    Height="35"
                    Margin="0,10,0,0"
                    Background="#2196F3"
                    Foreground="White"
                    FontWeight="Bold"
                    Click="SearchStudent_Click"/>
        </StackPanel>

        <!-- Results DataGrid -->
        <DataGrid x:Name="ResultsDataGrid"
                  Grid.Row="2"
                  AutoGenerateColumns="False"
                  CanUserAddRows="False"
                  CanUserDeleteRows="False"
                  IsReadOnly="True"
                  HeadersVisibility="Column"
                  Margin="0">
            <DataGrid.Columns>
                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="Auto"/>
                <DataGridTextColumn Header="First Name" Binding="{Binding FirstName}" Width="*"/>
                <DataGridTextColumn Header="Last Name" Binding="{Binding LastName}" Width="*"/>
                <DataGridTextColumn Header="Date of Birth" Binding="{Binding DateOfBirth, StringFormat=d}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>
